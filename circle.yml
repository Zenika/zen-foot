#general:
#  branches:
#    only:
#      - dev # devs
#      - release
machine:
  java:
    version: oraclejdk7
  environment:
    APP_ENGINE_SDK_VERSION: 1.9.27
#dependencies:
#  pre:
#    - curl -o $HOME/appengine-java-sdk-$APP_ENGINE_SDK_VERSION.zip https://storage.googleapis.com/appengine-sdks/featured/appengine-java-sdk-$APP_ENGINE_SDK_VERSION.zip
#    - unzip -q -d $HOME $HOME/appengine-java-sdk-$APP_ENGINE_SDK_VERSION.zip
test:
  pre:
    - mvn test
#deployment:
#  appengine:
#    branch: dev
#    commands:
#       - sed "s#<GOOGLE_ACCESS_TOKEN>#$GOOGLE_ACCESS_TOKEN#" appcfg_oauth2_tokens_java.json | sed "s#<GOOGLE_REFRESH_TOKEN>#$GOOGLE_REFRESH_TOKEN#" > ~/.appcfg_oauth2_tokens_java
#       - mvn -DskipTests package
#       - $HOME/appengine-java-sdk-$APP_ENGINE_SDK_VERSION/bin/appcfg.sh update target/zen-foot-1
